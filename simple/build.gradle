apply plugin: 'java'
apply plugin: 'application'
// For exec JUnit5 test
apply plugin: 'org.junit.platform.gradle.plugin'

sourceCompatibility = 1.8

mainClassName = 'App'

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath group: 'org.junit.platform', name: 'junit-platform-gradle-plugin', version: '1.0.3'
    }
}

run {
    // For set application commandline argsments.
    // To set argments, run gradle command like below.
    //    gradle run --Pappargs="--customOption=foobar"
    if (project.hasProperty('appargs')) {
        args(appargs.split('\\s+'))
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'com.google.cloud.dataflow', name: 'google-cloud-dataflow-java-sdk-all', version: '2.2.0'
    compile group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.25'

    // Use JUnit test framework
    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.0.3'
    testRuntime group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.0.3'
}